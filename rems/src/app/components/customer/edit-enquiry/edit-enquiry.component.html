<div class="page-bg">
  <div class="center-page">
    <div class="enquiry-card">
      <h3>Edit Customer Enquiry</h3>

      <form #enquiryForm="ngForm" (ngSubmit)="onSubmit()">

        <div class="form-grid">
          <!-- First Name -->
          <div class="form-group">
            <label class="dark-label">First Name</label>
            <input type="text" name="firstName" [(ngModel)]="customer.firstName" #firstName="ngModel">
          </div>

          <!-- Last Name -->
          <div class="form-group">
            <label class="dark-label">Last Name</label>
            <input type="text" name="lastName" [(ngModel)]="customer.lastName" #lastName="ngModel">
          </div>

          <!-- Mobile (Disabled) -->
          <div class="form-group">
            <label class="dark-label">Mobile Number</label>
            <input type="text" name="mobileNo" [(ngModel)]="customer.mobileNo" disabled class="form-control bg-light">
          </div>

          <!-- Pincode -->
          <div class="form-group">
            <label class="dark-label">Pincode</label>
            <input type="text" name="pincode" [(ngModel)]="customer.pincode" maxlength="6" pattern="^[0-9]{6}$"
              #pincode="ngModel" [class.is-invalid]="pincode.invalid && pincode.touched">
            <div *ngIf="pincode.invalid && pincode.touched" class="error-msg">
              <small>Enter 6-digit pincode.</small>
            </div>
          </div>

          <!-- Email -->
          <div class="form-group">
            <label class="dark-label">Email Address</label>
            <input type="email" name="email" [(ngModel)]="customer.email" #email="ngModel"
              [class.is-invalid]="email.invalid && email.touched">
          </div>

          <!-- Aadhaar -->
          <div class="form-group">
            <label class="dark-label">Aadhaar (Optional)</label>
            <input type="text" name="aadharNo" [(ngModel)]="customer.aadharNo" maxlength="12" pattern="[0-9]{12}"
              #aadharNo="ngModel" [class.is-invalid]="aadharNo.invalid && aadharNo.touched">
          </div>

          <!-- Layout Name Dropdown -->
          <div class="form-group">
            <label class="dark-label">Layout Name</label>
            <select name="layoutSelection" [(ngModel)]="selectedLayoutName" (change)="onLayoutNameChange()"
              class="form-control" #layoutSelection="ngModel">
              <option value="">-- Select Layout --</option>
              <option *ngFor="let layout of layoutList" [value]="layout.layoutName">
                {{ layout.layoutName }}
              </option>
              <option value="Others">Others</option>
            </select>
          </div>

          <!-- Other Layout Name (Conditional) -->
          <div class="form-group" *ngIf="showOtherLayout">
            <label class="dark-label">Enter Other Layout Name</label>
            <input type="text" name="otherLayoutName" [(ngModel)]="customer.layoutName" #otherLayoutName="ngModel">
          </div>

          <!-- Layout Location -->
          <div class="form-group">
            <label class="dark-label">Layout Location</label>
            <input type="text" name="layoutLocation" [(ngModel)]="customer.layoutLocation" #layoutLocation="ngModel"
              [readonly]="!showOtherLayout">
          </div>

          <!-- Referral Name -->
          <div class="form-group">
            <label class="dark-label">Referral Name</label>
            <input type="text" name="referralName" [(ngModel)]="customer.referralName">
          </div>

          <!-- Referral Phone Number -->
          <div class="form-group">
            <label class="dark-label">Referral Ph Number</label>
            <input type="text" name="referralNumber" [(ngModel)]="customer.referralNumber" maxlength="10"
              pattern="[0-9]{10}" #referralNumber="ngModel"
              [class.is-invalid]="referralNumber.invalid && referralNumber.touched">
          </div>

          <!-- Profile Image -->
          <div class="form-group">
            <label class="dark-label">Profile Image (optional)</label>
            <input type="file" (change)="onFileChange($event)" accept="image/*">
          </div>

          <!-- Address (Full Width) -->
          <div class="form-group full-width">
            <label class="dark-label">Address</label>
            <input type="text" name="address" [(ngModel)]="customer.address" #address="ngModel">
          </div>

          <!-- Buttons -->
          <div class="buttons-row">
            <button type="submit" class="btn btn-success">
              Update Customer
            </button>
            <button type="button" class="btn btn-danger" (click)="goHome()">
              Back
            </button>
          </div>
        </div>

      </form>
    </div>
  </div>
</div>