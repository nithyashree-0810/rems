<div class="container layout-container">

  <h2 class="page-title"><u>List of Layouts</u></h2>

  <div class="top-bar">

    <!-- SEARCH center -->
    <div class="search-row">
      <input 
        type="text"
        [(ngModel)]="searchName"
        (keyup)="filterLayouts()"
        placeholder="Search Name">

      <input 
        type="text"
        [(ngModel)]="searchLocation"
        (keyup)="filterLayouts()"
        placeholder="Search Location">

      <button class="search-btn" (click)="filterLayouts()">Search</button>
    </div>

    <!-- CREATE BUTTON -->
    <button class="create-btn" (click)="navigateToCreate()">
      + Create Layout
    </button>

  </div>


  <div class="table-responsive">
    <table class="layout-table">
      <thead>
        <tr>
          <th>S.NO</th>
          <th>Layout Name</th>
          <th>Total Area</th>
          <th>Total Plots</th>
          <th>Phone No</th>
          <th>Location</th>
          <th>Address</th>
          <th>Pincode</th>
          <th>DTCP</th>
          <th>RERA</th>
          <th>View</th>
          <th>Edit</th>
          <th>Delete</th>
          <th>Create Plot</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let layout of layouts; let i = index">
          <td>{{ (currentPage - 1) * pageSize + i + 1 }}</td>
          <td>{{ layout.layoutName }}</td>
          <td>{{ layout.area }}</td>
          <td>{{ layout.noOfPlots }}</td>
          <td>{{ layout.phone }}</td>
          <td>{{ layout.location }}</td>
          <td>{{ layout.address }}</td>
          <td>{{ layout.pincode }}</td>
          <td>{{ layout.dtcpApproved ? 'Yes' : 'No' }}</td>
          <td>{{ layout.reraApproved ? 'Yes' : 'No' }}</td>

          <td><i class="fa fa-eye action-icon view" (click)="viewLayout(layout.layoutName)"></i></td>
          <td><i class="fa fa-pencil action-icon edit" (click)="editLayout(layout.layoutName)"></i></td>
          <td><i class="fa fa-trash action-icon delete" (click)="deleteLayout(layout.layoutName)"></i></td>

          <td>
            <i class="fa fa-plus action-icon create" 
               [routerLink]="['/create-plot']">
            </i>
          </td>
        </tr>
      </tbody>
    </table>
    
  </div>
  <div *ngIf="noRecords" class="no-records">
  No Records Found
</div>

  

  <!-- PAGINATION -->
<!-- PAGINATION + HOME SAME LINE -->
<div class="pagination-wrapper">

  <!-- CENTER Pagination -->
  <div class="pagination-container">
    <button (click)="prevPage()" [disabled]="currentPage === 1">« Prev</button>

    <button *ngFor="let page of totalPagesArray"
            [ngClass]="{'active': page === currentPage}"
            (click)="goToPage(page)">
      {{ page }}
    </button>

    <button (click)="nextPage()" [disabled]="currentPage === totalPages">Next »</button>
  </div>

  <!-- RIGHT Home -->
  <button class="home-btn" (click)="goHome()">Home</button>

</div>





    
