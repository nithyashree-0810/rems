<div class="container">

  <h2>List of Layouts</h2>

  <!-- SEARCH -->
  <div class="search-container">
    <input type="text"
           [(ngModel)]="searchName"
           (keyup)="filterLayouts()"
           placeholder="Search Layout Name"
           class="search-input">

    <input type="text"
           [(ngModel)]="searchLocation"
           (keyup)="filterLayouts()"
           placeholder="Search Location"
           class="search-input">

    <button class="search-btn" (click)="filterLayouts()">Search</button>
  </div>

  <!-- CREATE + REPORT BUTTONS -->
  <div class="top-buttons">

    <button class="btn btn-primary" style="margin-left: auto;" (click)="downloadLayoutsReport()">
      <i class="fa fa-file-pdf"></i> Download Layouts PDF
    </button>
  </div>

  <!-- TABLE -->
  <div class="table-wrapper">
    <table class="layout-table">
      <thead>
        <tr>
          <th>S.No</th>
          <th>Layout Name</th>
          <th>Total Area</th>
          <th>Total Plots</th>
          <th>Phone</th>
          <th>Survey No</th>
          <th>Location</th>
          <th>Address</th>
          <th>Pincode</th>
          <th>DTCP</th>
          <th>RERA</th>
          <th>PDF</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let layout of layouts; let i = index">

          <td>{{ (currentPage - 1) * pageSize + i + 1 }}</td>
          <td>{{ layout.layoutName }}</td>
          <td>{{ layout.area }}</td>
          <td>{{ layout.noOfPlots }}</td>
          <td>{{ layout.phone }}</td>
          <td>{{ layout.surveyNo }}</td>
          <td>{{ layout.location }}</td>
          <td>{{ layout.address }}</td>
          <td>{{ layout.pincode }}</td>
          <td>{{ layout.dtcpApproved ? 'Yes' : 'No' }}</td>
          <td>{{ layout.reraApproved ? 'Yes' : 'No' }}</td>

          <td>
            <button *ngIf="layout.pdfPath"
                    class="pdf-btn"
                    (click)="viewPdf(layout.layoutName)">
              View PDF
            </button>
            <span *ngIf="!layout.pdfPath">-</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- NO RECORDS -->
  <div *ngIf="noRecords" class="no-records">
    No Records Found
  </div>

  <!-- PAGINATION -->
<div class="pagination-container">
  <div class="pagination">
    <!-- Prev Button -->
    <button [disabled]="currentPage === 1" (click)="prevPage()">« Prev</button>

    <!-- Page Numbers -->
    <button *ngFor="let page of pages"
            [class.active]="page === currentPage"
            (click)="goToPage(page)">
      {{ page }}
    </button>

    <!-- Next Button -->
    <button [disabled]="currentPage === totalPages" (click)="nextPage()">Next »</button>
  </div>

    <button class="btn btn-danger pagination-home-btn" (click)="goHome()">
      Home
    </button>
  </div>

</div>
