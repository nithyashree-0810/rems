<div class="form-container">

  <h2 class="form-title">Create Layout</h2>

  <div class="header-actions">
    <button class="btn btn-success" type="button" (click)="gotoView()">
      View Layouts
    </button>
  </div>

  <form #layoutForm="ngForm" (ngSubmit)="onSubmit(layoutForm)">

    <div class="form-group">
      <label>Layout Name <span class="required">*</span></label>
      <input type="text" name="layoutName" [(ngModel)]="layout.layoutName" required minlength="3">
    </div>

    <div class="form-group">
      <label>Total Area <span class="required">*</span></label>
      <input type="text" name="area" [(ngModel)]="layout.area" required>
    </div>

    <div class="form-group">
      <label>No of Plots <span class="required">*</span></label>
      <input type="text" name="noOfPlots" [(ngModel)]="layout.noOfPlots" required>
    </div>

    <div class="form-group">
      <label>Phone <span class="required">*</span></label>
      <input type="text" name="phone" [(ngModel)]="layout.phone" required maxlength="10" pattern="[0-9]{10}"
        inputmode="numeric" onkeypress="return event.charCode >= 48 && event.charCode <= 57"
        (ngModelChange)="onPhoneChange()" [class.is-invalid]="duplicatePhoneName">
      <small class="error-msg" *ngIf="duplicatePhoneName">
        This phone number already exists under the name: {{duplicatePhoneName}}
      </small>
    </div>

    <div class="form-group">
      <label>Location <span class="required">*</span></label>
      <input type="text" name="location" [(ngModel)]="layout.location" required>
    </div>

    <div class="form-group">
      <label>Address <span class="required">*</span></label>
      <input type="text" name="address" [(ngModel)]="layout.address" required>
    </div>

    <div class="form-group">
      <label>Pincode <span class="required">*</span></label>
      <input type="text" name="pincode" [(ngModel)]="layout.pincode" required maxlength="6" pattern="[0-9]{6}"
        inputmode="numeric" onkeypress="return event.charCode >= 48 && event.charCode <= 57">
    </div>

    <div class="form-group">
      <label>Survey Number <span class="required">*</span></label>
      <input type="text" name="surveyNo" [(ngModel)]="layout.surveyNo" required>
    </div>




    <div class="form-group">
      <label>Owner Name 1</label>
      <input type="text" name="ownerName1" [(ngModel)]="layout.ownerName1">
    </div>

    <div class="form-group">
      <label>Owner Name 2</label>
      <input type="text" name="ownerName2" [(ngModel)]="layout.ownerName2">
    </div>

    <div class="form-group">
      <label>Owner Name 3</label>
      <input type="text" name="ownerName3" [(ngModel)]="layout.ownerName3">
    </div>

    <div class="form-group">
      <label>Owner Name 4</label>
      <input type="text" name="ownerName4" [(ngModel)]="layout.ownerName4">
    </div>

    <div class="form-group">
      <label>Owner Name 5</label>
      <input type="text" name="ownerName5" [(ngModel)]="layout.ownerName5">
    </div>

    <div class="form-group">
      <label>Owner Name 6</label>
      <input type="text" name="ownerName6" [(ngModel)]="layout.ownerName6">
    </div>

    <!-- ================= PDF Upload ================= -->

    <div class="form-group" style="grid-column: span 2;">
      <label>Upload Layout PDF <span class="required">*</span></label>

      <input type="file" accept="application/pdf" (change)="onPdfSelected($event)" required>

      <!-- Preview below input -->
      <div class="pdf-preview" *ngIf="selectedPdf">
        <div class="pdf-icon">ðŸ“„</div>

        <div class="pdf-details">
          <b>{{ selectedPdf.name }}</b>
          <span>{{ (selectedPdf.size / 1024) | number:'1.0-1' }} KB</span>
        </div>

        <button type="button" class="remove-pdf" (click)="selectedPdf = null">
          âœ–
        </button>
      </div>
    </div>
    <!-- ================================================= -->



    <!-- Checkboxes -->
    <div class="checkbox-row">
      <label>
        <input type="checkbox" name="dtcpApproved" [(ngModel)]="layout.dtcpApproved">
        DTCP Approved
      </label>

      <label>
        <input type="checkbox" name="reraApproved" [(ngModel)]="layout.reraApproved">
        RERA Approved
      </label>
    </div>


    <div class="form-actions">
      <button type="submit" class="btn create-btn" [disabled]="layoutForm.invalid">
        Create Layout
      </button>

      <button type="button" class="btn home-btn" (click)="goHome()">
        Home
      </button>
    </div>

  </form>
</div>