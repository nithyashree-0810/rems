<h2 class="form-title">Create Layout</h2>

<div class="form-container">
  <div class="header-actions">
    <button class="btn btn-success" type="button" (click)="gotoView()">View Layouts</button>
  </div>

  <form #layoutForm="ngForm" (ngSubmit)="onSubmit(layoutForm)">
    <!-- Layout Name -->
    <div class="form-group">
      <label for="layoutName">Layout Name:</label>
      <input 
        type="text" 
        id="layoutName" 
        name="layoutName" 
        [(ngModel)]="layout.layoutName" 
        required 
        minlength="3" 
        pattern="[a-zA-Z ]+$"
        placeholder="Enter layout name" 
        #layoutName="ngModel"
      />
      <div *ngIf="layoutName.invalid && layoutName.touched" class="error">
        <small *ngIf="layoutName.errors?.['required']">Layout Name is required</small>
        <small *ngIf="layoutName.errors?.['minlength']">Minimum 3 characters required</small>
        <small *ngIf="layoutName.errors?.['pattern']">Only alphabets are allowed</small>
      </div>
    </div>

    <!-- Total Area -->
    <div class="form-group">
      <label for="area">Total Area (sq/ft):</label>
      <input 
        type="number" 
        id="area" 
        name="area" 
        [(ngModel)]="layout.area" 
        required 
        min="100" 
        placeholder="e.g. 12000" 
        #area="ngModel"
      />
      <div *ngIf="area.invalid && area.touched" class="error">
        <small *ngIf="area.errors?.['required']">Total area is required</small>
        <small *ngIf="area.errors?.['min']">Area must be greater than 100</small>
      </div>
    </div>

    <!-- Number of Plots -->
    <div class="form-group">
      <label for="noOfPlots">Total Number of Plots:</label>
      <input 
        type="number" 
        id="noOfPlots" 
        name="noOfPlots" 
        [(ngModel)]="layout.noOfPlots" 
        required 
        min="1" 
        placeholder="e.g. 50" 
        #noOfPlots="ngModel"
      />
      <div *ngIf="noOfPlots.invalid && noOfPlots.touched" class="error">
        <small *ngIf="noOfPlots.errors?.['required']">No of Plots is required</small>
        <small *ngIf="noOfPlots.errors?.['min']">Minimum 1 plot required</small>
      </div>
    </div>

    <!-- Phone Number -->
    <div class="form-group">
      <label for="phone">Phone Number:</label>
      <input 
        type="tel" 
        id="phone" 
        name="phone" 
        [(ngModel)]="layout.phone" 
        required 
        pattern="^[6-9]\d{9}$" 
        placeholder="e.g. 9876543210" 
        #phone="ngModel"
      />
      <div *ngIf="phone.invalid && phone.touched" class="error">
        <small *ngIf="phone.errors?.['required']">Phone number is required</small>
        <small *ngIf="phone.errors?.['pattern']">Enter valid 10-digit number</small>
      </div>
    </div>

    
<!-- Location -->
<div class="form-group">
  <label for="location">Location:</label>
  <input 
    type="text" 
    id="location" 
    name="location" 
    [(ngModel)]="layout.location" 
    required 
    minlength="5" 
    pattern="^[a-zA-Z ]+$"
    placeholder="City / Village" 
    #location="ngModel"
  />
  <div *ngIf="location.invalid && location.touched" class="error">
    <small *ngIf="location.errors?.['required']">Location is required</small>
    <small *ngIf="location.errors?.['minlength']">Minimum 5 characters required</small>
    <small *ngIf="location.errors?.['pattern']">Only alphabets are allowed</small>
  </div>
</div>

    <!-- Address -->
    <div class="form-group">
      <label for="address">Address:</label>
      <input 
        type="text" 
        id="address" 
        name="address" 
        [(ngModel)]="layout.address" 
        required 
        minlength="5" 
        placeholder="Street address" 
        #address="ngModel"
      />
      <div *ngIf="address.invalid && address.touched" class="error">
        <small *ngIf="address.errors?.['required']">Address is required</small>
        <small *ngIf="address.errors?.['minlength']">Minimum 5 characters required</small>
      </div>
    </div>

    <!-- Pincode -->
    <div class="form-group">
      <label for="pincode">Pincode:</label>
      <input 
        type="number" 
        id="pincode" 
        name="pincode" 
        [(ngModel)]="layout.pincode" 
        required 
        pattern="^[1-9][0-9]{5}$" 
        placeholder="e.g. 600001" 
        #pincode="ngModel"
      />
      <div *ngIf="pincode.invalid && pincode.touched" class="error">
        <small *ngIf="pincode.errors?.['required']">Pincode is required</small>
        <small *ngIf="pincode.errors?.['pattern']">Enter valid 6-digit pincode</small>
      </div>
    </div>

    <!-- Owner Name -->
<div class="form-group">
  <label for="ownerName">Owner of Layout:</label>
  <input 
    type="text" 
    id="ownerName" 
    name="ownerName" 
    [(ngModel)]="layout.ownerName" 
    required 
    minlength="3" 
    pattern="^[a-zA-Z ]+$"
    placeholder="Enter owner Name" 
    #ownerName="ngModel"
  />
  <div *ngIf="ownerName.invalid && ownerName.touched" class="error">
    <small *ngIf="ownerName.errors?.['required']">Owner name is required</small>
    <small *ngIf="ownerName.errors?.['minlength']">Minimum 3 characters required</small>
    <small *ngIf="ownerName.errors?.['pattern']">Only alphabets are allowed</small>
  </div>
</div>

    <br>
    <div class="button-group">
      <button type="submit" class="btn create-btn" [disabled]="layoutForm.invalid">Create Layout</button>&nbsp;&nbsp;
      <button type="button" class="btn home-btn" (click)="goHome()">Home</button>
    </div>
  </form>
</div>
